!function(c){var t={};function g(n){if(t[n])return t[n].exports;var I=t[n]={i:n,l:!1,exports:{}};return c[n].call(I.exports,I,I.exports,g),I.l=!0,I.exports}g.m=c,g.c=t,g.d=function(c,t,n){g.o(c,t)||Object.defineProperty(c,t,{enumerable:!0,get:n})},g.r=function(c){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},g.t=function(c,t){if(1&t&&(c=g(c)),8&t)return c;if(4&t&&"object"==typeof c&&c&&c.__esModule)return c;var n=Object.create(null);if(g.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:c}),2&t&&"string"!=typeof c)for(var I in c)g.d(n,I,function(t){return c[t]}.bind(null,I));return n},g.n=function(c){var t=c&&c.__esModule?function(){return c.default}:function(){return c};return g.d(t,"a",t),t},g.o=function(c,t){return Object.prototype.hasOwnProperty.call(c,t)},g.p="",g(g.s=0)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n\n// CONCATENATED MODULE: ./src/js/weatherInformationClass.js\nclass WeatherInformation {\r\n  constructor(weatherInfo) {\r\n    (this.location = weatherInfo.name),\r\n      (this.country = weatherInfo.sys.country);\r\n    (this.date = new Date()),\r\n      (this.temp = weatherInfo.main.temp),\r\n      (this.iconName = weatherInfo.weather[0].main),\r\n      (this.pressure = weatherInfo.main.pressure),\r\n      (this.humidity = weatherInfo.main.humidity),\r\n      (this.windSpped = weatherInfo.wind.speed);\r\n  }\r\n\r\n  setLocation() {\r\n    const locationID = document.getElementsByClassName(\r\n      "headText__location--js"\r\n    )[0];\r\n    locationID.innerHTML = `in ${this.location}, ${this.country}`;\r\n  }\r\n  setDate() {\r\n    const dateID = document.getElementsByClassName("headText__date--js")[0];\r\n    dateID.innerHTML = `Today ${this.date.getDate()}th, ${this.date.toLocaleString(\r\n      "en-EN",\r\n      { month: "long" }\r\n    )}`;\r\n  }\r\n\r\n  setTemp() {\r\n    const tempID = document.getElementsByClassName("headText--degrees-js")[0];\r\n    tempID.innerHTML = `${this.temp.toFixed(1)} °C`;\r\n  }\r\n\r\n  setPressure() {\r\n    const pressureID = document.getElementsByClassName(\r\n      "weatherToday__pressure--js"\r\n    )[0];\r\n    pressureID.innerHTML = `${this.pressure} hPa`;\r\n  }\r\n\r\n  setHumidity() {\r\n    const humidityID = document.getElementsByClassName(\r\n      "weatherToday__humidity--js"\r\n    )[0];\r\n    humidityID.innerHTML = `${this.humidity} %`;\r\n  }\r\n\r\n  setWindSpeed() {\r\n    const windSpeedID = document.getElementsByClassName(\r\n      "weatherToday__windSpeed--js"\r\n    )[0];\r\n    windSpeedID.innerHTML = `${this.windSpped} m/s`;\r\n  }\r\n\r\n  setWeatherInformation() {\r\n    this.setLocation();\r\n    this.setDate();\r\n    this.setTemp();\r\n    this.setPressure();\r\n    this.setHumidity();\r\n    this.setWindSpeed();\r\n  }\r\n\r\n  weatherIcon(weather) {\r\n    let currentDate = new Date();\r\n    currentDate = currentDate.getHours();\r\n    switch (weather) {\r\n      case "thunderstorm":\r\n        return "storm.svg";\r\n        break;\r\n      case "Drizzle":\r\n        return "Drizzle.svg";\r\n        break;\r\n      case "Rain":\r\n        return "Rain.svg";\r\n        break;\r\n      case "Snow":\r\n        return "Snowflake.svg";\r\n        break;\r\n      case "Atmosphere":\r\n        return "fog.svg";\r\n        break;\r\n      case "Clear":\r\n        if (currentDate <= 20) {\r\n          return "sun.svg";\r\n          break;\r\n        } else {\r\n          return "moon.svg";\r\n          break;\r\n        }\r\n      case "Clouds":\r\n        return "Clouds.svg";\r\n        break;\r\n    }\r\n  }\r\n\r\n  setImage() {\r\n    const imageID = document.getElementsByClassName("weatherImage--js")[0];\r\n    const weatherName = this.weatherIcon(this.iconName);\r\n    imageID.src = `assets/img/${weatherName}`;\r\n  }\r\n  roundTemp(temp) {\r\n    return Math.round((temp * 100) / 100);\r\n  }\r\n}\r\n\n// CONCATENATED MODULE: ./src/js/chartClass.js\nclass Chart {\r\n    constructor(weatherData, axisXposition) {\r\n      this.axisXposition = axisXposition;\r\n      this.weatherByHour = weatherData;\r\n      this.condition = false;\r\n      this.state = {};\r\n      this.tooltip = document.getElementsByClassName("chartTemp__tooltip")[0];\r\n      this.canvas = document.getElementById("chartTemp__canvas");\r\n      this.ctx = this.canvas.getContext("2d");\r\n      this.button = document.getElementsByClassName("header__search--buttonJS")[0];\r\n    }\r\n  \r\n    canvasDimensions() {\r\n      this.canvas.width = 660;\r\n      this.canvas.height = 309;\r\n    }\r\n  \r\n    blocks(count) {\r\n      return count * 40;\r\n    }\r\n    \r\n    setAxisXposition(averageTemp) {\r\n      if (averageTemp > -10 && averageTemp < 15) {\r\n        this.axisXposition = this.axisXposition / 2 + 20;\r\n      }\r\n      else if (averageTemp < -10) {\r\n        this.axisXposition = 40;\r\n      }\r\n    }\r\n\r\n    drawGrid() {\r\n      let gridX = 40;\r\n      let gridY = 40;\r\n      const cellSize = 40;\r\n      this.ctx.beginPath();\r\n      this.ctx.strokeStyle = "lightgrey";\r\n    \r\n      while (gridX <= this.canvas.width - 20) {\r\n        this.ctx.moveTo(gridX, 20);\r\n        this.ctx.lineTo(gridX, this.canvas.height - 20);\r\n        gridX += cellSize;\r\n      }\r\n      while (gridY <= this.canvas.height - 20) {\r\n        this.ctx.moveTo(20, gridY);\r\n        this.ctx.lineTo(this.canvas.width - 10, gridY);\r\n        gridY += cellSize;\r\n      }\r\n      this.ctx.stroke();\r\n    }\r\n    \r\n    async drawAxis(hours) {\r\n        this.ctx.beginPath();\r\n        this.ctx.strokeStyle = "black";\r\n        this.ctx.moveTo(this.blocks(1), this.blocks(1 / 2));\r\n        this.ctx.lineTo(this.blocks(1), this.blocks(7));\r\n        this.ctx.moveTo(this.blocks(1), this.axisXposition);\r\n        this.ctx.lineTo(this.blocks(16), this.axisXposition);\r\n        \r\n        this.ctx.moveTo(this.blocks(1), this.blocks(7));\r\n        let text = this.axisXposition === 160 ? -15 : (this.axisXposition === 40 ? -30 : 0);\r\n        let textY = this.blocks(7);\r\n        for (let i = 1; i <= 7; i++) {\r\n          this.ctx.strokeText(text, this.blocks(1 / 2), textY);\r\n          textY -= 40;\r\n          text += 5;\r\n        }\r\n        this.ctx.moveTo(this.blocks(2), this.blocks(7));\r\n        let textX = this.blocks(1.9);\r\n              for (let i = 0; i <= 15; i++) {\r\n          this.ctx.strokeText(hours[i], textX, this.blocks(7.5));\r\n          textX += 40;\r\n        }\r\n        this.ctx.stroke();\r\n      \r\n      \r\n      \r\n    \r\n\r\n    }\r\n    timestampToTime(stamp) {\r\n      let date = new Date(stamp * 1000);\r\n      return date.getHours();\r\n    }\r\n    \r\n    mapAndFilter(tempArray) {\r\n      tempArray = tempArray.map((el) => this.timestampToTime(el));\r\n      tempArray = tempArray.filter((el) => el % 2 == 0);\r\n      return tempArray;\r\n    }\r\n    \r\n    temperatureToChartCoords(temp){\r\n      let temperature = temp.map((el) => el / 5);\r\n      temperature = temperature.slice(0,15);\r\n      return temperature;\r\n    }\r\n    \r\n    getHoursCoords() {\r\n      let hourOfTemp = [...Array(17).keys()]\r\n      hourOfTemp = hourOfTemp.slice(2, 17);\r\n    \r\n      return hourOfTemp;\r\n    }\r\n    \r\n    getAverageTemp(temperature) {\r\n      return (temperature.reduce((a,b) => (a+b)) / temperature.length).toFixed(1);\r\n    }\r\n\r\n    drawChart(temperature) {\r\n      const tempHours = this.getHoursCoords();\r\n      let i = 1;\r\n      const context = this.ctx\r\n      const block = this.blocks.bind(this);\r\n      const axisXposition = this.axisXposition;\r\n      function animation() {\r\n        if (i <= temperature.length) {\r\n          window.requestAnimationFrame(animation);\r\n        }\r\n        context.strokeStyle = "#FFE74A";\r\n        context.lineWidth = 3;\r\n        context.beginPath();\r\n        context.moveTo(block(tempHours[i-1]), axisXposition - block(temperature[i-1]));\r\n        context.arc(block(tempHours[i-1]), axisXposition - block(temperature[i-1]), 3, 0, Math.PI * 2, true);\r\n        context.lineTo(block(tempHours[i]), axisXposition - block(temperature[i]));\r\n        context.stroke();\r\n        i++;\r\n      }\r\n      animation();\r\n    }\r\n    \r\n    async waitForGrid(ms) {\r\n      return new Promise(r => setTimeout(r, ms));\r\n    }\r\n    \r\n    getMousePosition(evt, canvas) {\r\n      let rect = canvas.getBoundingClientRect();\r\n      return {\r\n        x: evt.clientX - rect.left,\r\n        y: evt.clientY - rect.top\r\n      };\r\n    }\r\n    \r\n    filterTemperature(temperature) {\r\n      const temp = temperature\r\n        .map((obj) => obj.temp)\r\n        .filter((el, index) => index % 2 == 0);\r\n    \r\n      return temp;\r\n    }\r\n    \r\n    temperatureToPixel(temp){\r\n      const pixelTemp = temp.map(el => this.axisXposition - this.blocks(el));\r\n      \r\n      return pixelTemp;\r\n    }\r\n    \r\n    hoursToPixel(hours) {\r\n      const hourrs = hours.map(el => this.blocks(el));\r\n      return hourrs;\r\n    }\r\n    \r\n    createTempObj(hour, temp, hourOfTemp, tempInHour){\r\n      const tempPointCoords = [];\r\n      for (let i = 0; i < temp.length; i++){\r\n        tempPointCoords.push({\r\n          x: hour[i],\r\n          y: temp[i],\r\n          xmin: Math.abs(hour[i]) - 3,\r\n          xmax: Math.abs(hour[i]) + 3,\r\n          ymin: Math.abs(temp[i]) - 3,\r\n          ymax: Math.abs(temp[i]) + 3,\r\n          hourTemp: {\r\n            hour: hourOfTemp[i],\r\n            temp: tempInHour[i]\r\n          },\r\n    \r\n        })\r\n      }\r\n      return tempPointCoords;\r\n    }\r\n    \r\n    drawPoint(ctx, coords = {}, radius, color = \'white\') {\r\n      const mouseCoordinate = coords;\r\n      ctx.strokeStyle = color;\r\n      ctx.beginPath();\r\n      ctx.moveTo(mouseCoordinate.x, mouseCoordinate.y);\r\n      ctx.arc(mouseCoordinate.x, mouseCoordinate.y, radius, 0, Math.PI * 2, true);\r\n      ctx.fillStyle = color;\r\n      ctx.fill();\r\n      ctx.stroke();\r\n    }\r\n    \r\n    addEvent(pointTemp, mouseCoordinate, drawPoint, canvas, state, tooltip, ctx, condition) {\r\n      return function(e) {\r\n          const mouseCoords = mouseCoordinate(e, canvas);\r\n          let boools = pointTemp.filter(el => {\r\n          const a = el.xmin <= mouseCoords.x;\r\n          const b = mouseCoords.x <= el.xmax;\r\n          const c = el.ymin <= mouseCoords.y;\r\n          const d = mouseCoords.y <= el.ymax;\r\n          return (a && b && c && d)\r\n        })\r\n\r\n        if(boools.length) {\r\n          drawPoint(ctx, boools[0], 1);\r\n          state = {...boools[0]};\r\n          condition = true;\r\n          if (canvas.width - (state.x + 5) <= 80){\r\n            tooltip.style.left = `${state.x - 85}px`\r\n            tooltip.style.top = `${state.y - 35}px`;\r\n            \r\n          }\r\n          else {\r\n            tooltip.style.left = `${state.x + 5}px`;\r\n            tooltip.style.top = `${state.y - 35}px`;\r\n          }\r\n          tooltip.style.display = \'flex\';\r\n          tooltip.innerHTML = `Time: ${state.hourTemp.hour}:00, Temp: ${state.hourTemp.temp}°C`;\r\n        } \r\n        else if(!boools.length) {\r\n          drawPoint(ctx, state, 3, "#FFE74A");\r\n          condition = false;\r\n          state = {};\r\n          tooltip.style.display = \'none\';\r\n          boools = [];\r\n        } \r\n      \r\n      }\r\n    }\r\n    addPopUp(tempPoint) {\r\n      const addEvent1 = this.addEvent(tempPoint, this.getMousePosition, this.drawPoint, this.canvas, this.state, this.tooltip, this.ctx, this.condition);\r\n      this.canvas.addEventListener(\'mousemove\', addEvent1);\r\n      this.button.addEventListener("click", e => {\r\n        this.canvas.removeEventListener(\'mousemove\', addEvent1);\r\n      });\r\n      \r\n      \r\n    }\r\n\r\n    removePopUp(tempPoint) {\r\n      const addEvent1 = this.addEvent(tempPoint, this.getMousePosition, this.drawPoint, this.canvas, this.state, this.tooltip, this.ctx, this.condition);\r\n      this.canvas.removeEventListener(\'mousemove\', addEvent1);\r\n    }\r\n\r\n    async chart() {\r\n      const hourOfWeather = this.mapAndFilter(this.weatherByHour.map((obj) => obj.dt));\r\n      let temperature = this.filterTemperature(this.weatherByHour);\r\n      const averageTemp = this.getAverageTemp(temperature);\r\n      this.setAxisXposition(averageTemp);\r\n      \r\n      const temperatureCoords = this.temperatureToChartCoords(temperature);\r\n      \r\n      const tempPixels = this.temperatureToPixel(temperatureCoords);\r\n      const hoursPixels = this.hoursToPixel(this.getHoursCoords());\r\n      \r\n      const tempPoints = this.createTempObj(hoursPixels, tempPixels, hourOfWeather, temperature);\r\n    \r\n      this.canvasDimensions();\r\n      this.drawGrid();\r\n      this.drawAxis(hourOfWeather, averageTemp);\r\n      await this.waitForGrid(500);\r\n      this.drawChart(temperatureCoords)\r\n      this.addPopUp(tempPoints);\r\n      this.removePopUp(tempPoints);\r\n    }\r\n  \r\n  }\n// CONCATENATED MODULE: ./src/js/weekForecastClass.js\nclass WeekForecast {\r\n  constructor(weekForecastData) {\r\n    this.weekData = weekForecastData;\r\n    this.weatherForecastContainer = document.getElementsByClassName(\r\n      "weatherForecast--js"\r\n    );\r\n    this.weatherForecastContainer = this.weatherForecastContainer[0];\r\n  }\r\n\r\n  sliceWeekDataArray() {\r\n    this.weekData = this.weekData.slice(1, 8);\r\n  }\r\n\r\n  getTimestampToTime(timestamp) {\r\n    const time = new Date(timestamp * 1000);\r\n    return time.getDay();\r\n  }\r\n\r\n  getNameOfWeek(number) {\r\n    switch (number) {\r\n      case 0:\r\n        return "Sun";\r\n        break;\r\n      case 1:\r\n        return "Mon";\r\n        break;\r\n      case 2:\r\n        return "Tue";\r\n        break;\r\n      case 3:\r\n        return "Wed";\r\n        break;\r\n      case 4:\r\n        return "Thur";\r\n        break;\r\n      case 5:\r\n        return "Fri";\r\n        break;\r\n      case 6:\r\n        return "Sat";\r\n        break;\r\n    }\r\n  }\r\n  getWeatherParameters() {\r\n    this.weekData = this.weekData.map((el) => {\r\n      return {\r\n        day: this.getNameOfWeek(this.getTimestampToTime(el.dt)),\r\n        temp: el.temp.day,\r\n        weather: el.weather[0].main,\r\n      };\r\n    });\r\n  }\r\n\r\n  putWeatherIntoSection() {\r\n    this.weatherForecastContainer.innerHTML = "";\r\n    this.weekData.forEach((el) => {\r\n      this.weatherForecastContainer.innerHTML += `<div class="weatherForecast__day weatherForecast__day--js"><img class="weatherForecast__dayElement" src=\'assets/img/weatherIcons/${this.weatherIcon(\r\n        el.weather\r\n      )}\' alt=\'\'></img><div class="weatherForecast__dayElement"><p>${\r\n        el.day\r\n      }<br>${el.temp}</p></div></div>`;\r\n    });\r\n  }\r\n\r\n  addWeatherForecast() {\r\n    this.sliceWeekDataArray();\r\n    this.getWeatherParameters();\r\n    this.putWeatherIntoSection();\r\n  }\r\n\r\n  weatherIcon(weather) {\r\n    let currentDate = new Date();\r\n    currentDate = currentDate.getHours();\r\n    switch (weather) {\r\n      case "thunderstorm":\r\n        return "Storm.svg";\r\n        break;\r\n      case "Drizzle":\r\n        return "Drizzle.svg";\r\n        break;\r\n      case "Rain":\r\n        return "Rain.svg";\r\n        break;\r\n      case "Snow":\r\n        return "Snowflake.svg";\r\n        break;\r\n      case "Atmosphere":\r\n        return "Fog.svg";\r\n        break;\r\n      case "Clear":\r\n        if (currentDate <= 20) {\r\n          return "Sun.svg";\r\n          break;\r\n        } else {\r\n          return "Moon.svg";\r\n          break;\r\n        }\r\n      case "Clouds":\r\n        return "Clouds.svg";\r\n        break;\r\n    }\r\n  }\r\n}\r\n\n// CONCATENATED MODULE: ./src/js/main.js\n\r\n\r\n\r\n\r\n// service worker registration - remove if you\'re not going to use it\r\n\r\nif ("serviceWorker" in navigator) {\r\n  window.addEventListener("load", function () {\r\n    navigator.serviceWorker.register("serviceworker.js").then(\r\n      function (registration) {\r\n        // Registration was successful\r\n        console.log(\r\n          "ServiceWorker registration successful with scope: ",\r\n          registration.scope\r\n        );\r\n      },\r\n      function (err) {\r\n        // registration failed :(\r\n        console.log("ServiceWorker registration failed: ", err);\r\n      }\r\n    );\r\n  });\r\n}\r\n\r\n// place your code below\r\nconst apiKey = "53c5e97675c8d3d8da07e56aec5a3a22";\r\nconst axisXposition = 280; // X axis is on 280px Canvas Height;\r\nlet classStatus = false;\r\n\r\n(function () {\r\n  let lastTime = 0;\r\n  let vendors = ["ms", "moz", "webkit", "o"];\r\n  for (let x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) {\r\n    window.requestAnimationFrame = window[vendors[x] + "RequestAnimationFrame"];\r\n    window.cancelAnimationFrame =\r\n      window[vendors[x] + "CancelAnimationFrame"] ||\r\n      window[vendors[x] + "CancelRequestAnimationFrame"];\r\n  }\r\n\r\n  if (!window.requestAnimationFrame)\r\n    window.requestAnimationFrame = function (callback, element) {\r\n      let currTime = new Date().getTime();\r\n      let timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n      let id = window.setTimeout(function () {\r\n        callback(currTime + timeToCall);\r\n      }, timeToCall);\r\n      lastTime = currTime + timeToCall;\r\n      return id;\r\n    };\r\n\r\n  if (!window.cancelAnimationFrame)\r\n    window.cancelAnimationFrame = function (id) {\r\n      clearTimeout(id);\r\n    };\r\n})();\r\n\r\nfunction error(err) {\r\n  console.warn(`ERROR(${err.code}): ${err.message}`);\r\n}\r\n\r\nconst options = {\r\n  enableHighAccuracy: true,\r\n  timeout: 5000,\r\n  maximumAge: 0,\r\n};\r\n\r\nfunction main_location() {\r\n  return new Promise((resolve, reject) =>\r\n    navigator.geolocation.getCurrentPosition(resolve, error)\r\n  );\r\n}\r\n\r\nasync function getLocation(location) {\r\n  let position = location;\r\n  let weatherByPosition;\r\n  let weatherByHour;\r\n  let nextSevenDays;\r\n  if (typeof position === "object") {\r\n    position = await position.coords;\r\n    const { latitude, longitude } = position;\r\n\r\n    weatherByPosition = await fetch(\r\n      `https://api.openweathermap.org/data/2.5/weather?lat=${latitude}&lon=${longitude}&appid=${apiKey}&units=metric&lang=pl`\r\n    );\r\n    weatherByPosition = await weatherByPosition.json();\r\n\r\n    weatherByHour = await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${latitude}&lon=${longitude}&\r\n    exclude=hourly&appid=${apiKey}&units=metric`);\r\n    weatherByHour = await weatherByHour.json();\r\n    weatherByHour = weatherByHour.hourly;\r\n\r\n    nextSevenDays = await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${latitude}&lon=${longitude}&\r\n    exclude=daily&appid=${apiKey}&units=metric`);\r\n    nextSevenDays = await nextSevenDays.json();\r\n    nextSevenDays = nextSevenDays.daily;\r\n  } else {\r\n    weatherByPosition = await fetch(\r\n      `https://api.openweathermap.org/data/2.5/weather?q=${position}&appid=${apiKey}&units=metric`\r\n    );\r\n    weatherByPosition = await weatherByPosition.json();\r\n\r\n    const coords = weatherByPosition.coord;\r\n    \r\n    weatherByHour = await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${coords.lat}&lon=${coords.lon}&\r\n    exclude=hourly&appid=${apiKey}&units=metric`);\r\n    weatherByHour = await weatherByHour.json();\r\n\r\n    weatherByHour = weatherByHour.hourly;\r\n\r\n    nextSevenDays = await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${coords.lat}&lon=${coords.lon}&\r\n    exclude=daily&appid=${apiKey}&units=metric`);\r\n    nextSevenDays = await nextSevenDays.json();\r\n    nextSevenDays = nextSevenDays.daily;\r\n  }\r\n\r\n  const weatherData = new WeatherInformation(weatherByPosition);\r\n  weatherData.setWeatherInformation();\r\n  const chart = new Chart(weatherByHour, axisXposition);\r\n  chart.chart();\r\n  const forecastForWeek = new WeekForecast(nextSevenDays);\r\n  forecastForWeek.addWeatherForecast();\r\n  \r\n}\r\n\r\nconst localization = document.getElementsByClassName(\r\n  "header__geolocalization--buttonJS"\r\n)[0];\r\nconst searchButton = document.getElementsByClassName(\r\n  "header__search--buttonJS"\r\n)[0];\r\nconst inputField = document.getElementsByClassName(\r\n  "header__search--inputJS"\r\n)[0];\r\n\r\nlocalization.addEventListener("click", async () => {\r\n  const locations = await main_location();\r\n  await getLocation(locations);\r\n  if (!classStatus) {\r\n    replaceClasses();\r\n    classStatus = true;\r\n  }\r\n});\r\n\r\nsearchButton.addEventListener("click", async () => {\r\n  if (!inputField.value) {\r\n    alert("please type your city name");\r\n  } else if (inputField.value) {\r\n    try {\r\n      await getLocation(inputField.value);\r\n\r\n      if (!classStatus) {\r\n        replaceClasses();\r\n        classStatus = true;\r\n      }\r\n    } catch (error) {\r\n      alert(`Could not find the city \'${inputField.value}`);\r\n    }\r\n  }\r\n});\r\n\r\ninputField.addEventListener("keyup", (event) => {\r\n  if (event.keyCode === 13) {\r\n    searchButton.click();\r\n  }\r\n})\r\n\r\nfunction replaceClasses() {\r\n  const header = document.getElementsByClassName("header--firstLoad")[0];\r\n  const main = document.getElementsByClassName("main__container--firstLoad")[0];\r\n  const footer = document.getElementsByClassName("footer--firstLoad")[0];\r\n\r\n  header.classList.replace("header--firstLoad", "header");\r\n  main.classList.replace("main__container--firstLoad", "main__container");\r\n  footer.classList.replace("footer--firstLoad", "footer__image");\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvanMvd2VhdGhlckluZm9ybWF0aW9uQ2xhc3MuanM/M2IxZiIsIndlYnBhY2s6Ly8vLi9zcmMvanMvY2hhcnRDbGFzcy5qcz8yMDJkIiwid2VicGFjazovLy8uL3NyYy9qcy93ZWVrRm9yZWNhc3RDbGFzcy5qcz8yMTU4Iiwid2VicGFjazovLy8uL3NyYy9qcy9tYWluLmpzPzkyOTEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxjQUFjLElBQUksYUFBYTtBQUNoRTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msb0JBQW9CLE1BQU07QUFDMUQ7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOOztBQUVBO0FBQ0E7QUFDQSwwQkFBMEIscUJBQXFCO0FBQy9DOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGNBQWM7QUFDNUM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsY0FBYztBQUM1Qzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixlQUFlO0FBQzlDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxZQUFZO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ3RHTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLFFBQVE7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLFNBQVM7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7Ozs7OztBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxxQkFBcUIsaUJBQWlCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVzs7QUFFWCxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwwQkFBMEIsYUFBUTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCx3Q0FBd0MsaUJBQWlCO0FBQ3pEO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIFdlYXRoZXJJbmZvcm1hdGlvbiB7XHJcbiAgY29uc3RydWN0b3Iod2VhdGhlckluZm8pIHtcclxuICAgICh0aGlzLmxvY2F0aW9uID0gd2VhdGhlckluZm8ubmFtZSksXHJcbiAgICAgICh0aGlzLmNvdW50cnkgPSB3ZWF0aGVySW5mby5zeXMuY291bnRyeSk7XHJcbiAgICAodGhpcy5kYXRlID0gbmV3IERhdGUoKSksXHJcbiAgICAgICh0aGlzLnRlbXAgPSB3ZWF0aGVySW5mby5tYWluLnRlbXApLFxyXG4gICAgICAodGhpcy5pY29uTmFtZSA9IHdlYXRoZXJJbmZvLndlYXRoZXJbMF0ubWFpbiksXHJcbiAgICAgICh0aGlzLnByZXNzdXJlID0gd2VhdGhlckluZm8ubWFpbi5wcmVzc3VyZSksXHJcbiAgICAgICh0aGlzLmh1bWlkaXR5ID0gd2VhdGhlckluZm8ubWFpbi5odW1pZGl0eSksXHJcbiAgICAgICh0aGlzLndpbmRTcHBlZCA9IHdlYXRoZXJJbmZvLndpbmQuc3BlZWQpO1xyXG4gIH1cclxuXHJcbiAgc2V0TG9jYXRpb24oKSB7XHJcbiAgICBjb25zdCBsb2NhdGlvbklEID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcclxuICAgICAgXCJoZWFkVGV4dF9fbG9jYXRpb24tLWpzXCJcclxuICAgIClbMF07XHJcbiAgICBsb2NhdGlvbklELmlubmVySFRNTCA9IGBpbiAke3RoaXMubG9jYXRpb259LCAke3RoaXMuY291bnRyeX1gO1xyXG4gIH1cclxuICBzZXREYXRlKCkge1xyXG4gICAgY29uc3QgZGF0ZUlEID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImhlYWRUZXh0X19kYXRlLS1qc1wiKVswXTtcclxuICAgIGRhdGVJRC5pbm5lckhUTUwgPSBgVG9kYXkgJHt0aGlzLmRhdGUuZ2V0RGF0ZSgpfXRoLCAke3RoaXMuZGF0ZS50b0xvY2FsZVN0cmluZyhcclxuICAgICAgXCJlbi1FTlwiLFxyXG4gICAgICB7IG1vbnRoOiBcImxvbmdcIiB9XHJcbiAgICApfWA7XHJcbiAgfVxyXG5cclxuICBzZXRUZW1wKCkge1xyXG4gICAgY29uc3QgdGVtcElEID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImhlYWRUZXh0LS1kZWdyZWVzLWpzXCIpWzBdO1xyXG4gICAgdGVtcElELmlubmVySFRNTCA9IGAke3RoaXMudGVtcC50b0ZpeGVkKDEpfSDCsENgO1xyXG4gIH1cclxuXHJcbiAgc2V0UHJlc3N1cmUoKSB7XHJcbiAgICBjb25zdCBwcmVzc3VyZUlEID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcclxuICAgICAgXCJ3ZWF0aGVyVG9kYXlfX3ByZXNzdXJlLS1qc1wiXHJcbiAgICApWzBdO1xyXG4gICAgcHJlc3N1cmVJRC5pbm5lckhUTUwgPSBgJHt0aGlzLnByZXNzdXJlfSBoUGFgO1xyXG4gIH1cclxuXHJcbiAgc2V0SHVtaWRpdHkoKSB7XHJcbiAgICBjb25zdCBodW1pZGl0eUlEID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcclxuICAgICAgXCJ3ZWF0aGVyVG9kYXlfX2h1bWlkaXR5LS1qc1wiXHJcbiAgICApWzBdO1xyXG4gICAgaHVtaWRpdHlJRC5pbm5lckhUTUwgPSBgJHt0aGlzLmh1bWlkaXR5fSAlYDtcclxuICB9XHJcblxyXG4gIHNldFdpbmRTcGVlZCgpIHtcclxuICAgIGNvbnN0IHdpbmRTcGVlZElEID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcclxuICAgICAgXCJ3ZWF0aGVyVG9kYXlfX3dpbmRTcGVlZC0tanNcIlxyXG4gICAgKVswXTtcclxuICAgIHdpbmRTcGVlZElELmlubmVySFRNTCA9IGAke3RoaXMud2luZFNwcGVkfSBtL3NgO1xyXG4gIH1cclxuXHJcbiAgc2V0V2VhdGhlckluZm9ybWF0aW9uKCkge1xyXG4gICAgdGhpcy5zZXRMb2NhdGlvbigpO1xyXG4gICAgdGhpcy5zZXREYXRlKCk7XHJcbiAgICB0aGlzLnNldFRlbXAoKTtcclxuICAgIHRoaXMuc2V0UHJlc3N1cmUoKTtcclxuICAgIHRoaXMuc2V0SHVtaWRpdHkoKTtcclxuICAgIHRoaXMuc2V0V2luZFNwZWVkKCk7XHJcbiAgfVxyXG5cclxuICB3ZWF0aGVySWNvbih3ZWF0aGVyKSB7XHJcbiAgICBsZXQgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgY3VycmVudERhdGUgPSBjdXJyZW50RGF0ZS5nZXRIb3VycygpO1xyXG4gICAgc3dpdGNoICh3ZWF0aGVyKSB7XHJcbiAgICAgIGNhc2UgXCJ0aHVuZGVyc3Rvcm1cIjpcclxuICAgICAgICByZXR1cm4gXCJzdG9ybS5zdmdcIjtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcIkRyaXp6bGVcIjpcclxuICAgICAgICByZXR1cm4gXCJEcml6emxlLnN2Z1wiO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiUmFpblwiOlxyXG4gICAgICAgIHJldHVybiBcIlJhaW4uc3ZnXCI7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCJTbm93XCI6XHJcbiAgICAgICAgcmV0dXJuIFwiU25vd2ZsYWtlLnN2Z1wiO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiQXRtb3NwaGVyZVwiOlxyXG4gICAgICAgIHJldHVybiBcImZvZy5zdmdcIjtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcIkNsZWFyXCI6XHJcbiAgICAgICAgaWYgKGN1cnJlbnREYXRlIDw9IDIwKSB7XHJcbiAgICAgICAgICByZXR1cm4gXCJzdW4uc3ZnXCI7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuIFwibW9vbi5zdmdcIjtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgY2FzZSBcIkNsb3Vkc1wiOlxyXG4gICAgICAgIHJldHVybiBcIkNsb3Vkcy5zdmdcIjtcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldEltYWdlKCkge1xyXG4gICAgY29uc3QgaW1hZ2VJRCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJ3ZWF0aGVySW1hZ2UtLWpzXCIpWzBdO1xyXG4gICAgY29uc3Qgd2VhdGhlck5hbWUgPSB0aGlzLndlYXRoZXJJY29uKHRoaXMuaWNvbk5hbWUpO1xyXG4gICAgaW1hZ2VJRC5zcmMgPSBgYXNzZXRzL2ltZy8ke3dlYXRoZXJOYW1lfWA7XHJcbiAgfVxyXG4gIHJvdW5kVGVtcCh0ZW1wKSB7XHJcbiAgICByZXR1cm4gTWF0aC5yb3VuZCgodGVtcCAqIDEwMCkgLyAxMDApO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgQ2hhcnQge1xyXG4gICAgY29uc3RydWN0b3Iod2VhdGhlckRhdGEsIGF4aXNYcG9zaXRpb24pIHtcclxuICAgICAgdGhpcy5heGlzWHBvc2l0aW9uID0gYXhpc1hwb3NpdGlvbjtcclxuICAgICAgdGhpcy53ZWF0aGVyQnlIb3VyID0gd2VhdGhlckRhdGE7XHJcbiAgICAgIHRoaXMuY29uZGl0aW9uID0gZmFsc2U7XHJcbiAgICAgIHRoaXMuc3RhdGUgPSB7fTtcclxuICAgICAgdGhpcy50b29sdGlwID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcImNoYXJ0VGVtcF9fdG9vbHRpcFwiKVswXTtcclxuICAgICAgdGhpcy5jYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoYXJ0VGVtcF9fY2FudmFzXCIpO1xyXG4gICAgICB0aGlzLmN0eCA9IHRoaXMuY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgICAgdGhpcy5idXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiaGVhZGVyX19zZWFyY2gtLWJ1dHRvbkpTXCIpWzBdO1xyXG4gICAgfVxyXG4gIFxyXG4gICAgY2FudmFzRGltZW5zaW9ucygpIHtcclxuICAgICAgdGhpcy5jYW52YXMud2lkdGggPSA2NjA7XHJcbiAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IDMwOTtcclxuICAgIH1cclxuICBcclxuICAgIGJsb2Nrcyhjb3VudCkge1xyXG4gICAgICByZXR1cm4gY291bnQgKiA0MDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgc2V0QXhpc1hwb3NpdGlvbihhdmVyYWdlVGVtcCkge1xyXG4gICAgICBpZiAoYXZlcmFnZVRlbXAgPiAtMTAgJiYgYXZlcmFnZVRlbXAgPCAxNSkge1xyXG4gICAgICAgIHRoaXMuYXhpc1hwb3NpdGlvbiA9IHRoaXMuYXhpc1hwb3NpdGlvbiAvIDIgKyAyMDtcclxuICAgICAgfVxyXG4gICAgICBlbHNlIGlmIChhdmVyYWdlVGVtcCA8IC0xMCkge1xyXG4gICAgICAgIHRoaXMuYXhpc1hwb3NpdGlvbiA9IDQwO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZHJhd0dyaWQoKSB7XHJcbiAgICAgIGxldCBncmlkWCA9IDQwO1xyXG4gICAgICBsZXQgZ3JpZFkgPSA0MDtcclxuICAgICAgY29uc3QgY2VsbFNpemUgPSA0MDtcclxuICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gXCJsaWdodGdyZXlcIjtcclxuICAgIFxyXG4gICAgICB3aGlsZSAoZ3JpZFggPD0gdGhpcy5jYW52YXMud2lkdGggLSAyMCkge1xyXG4gICAgICAgIHRoaXMuY3R4Lm1vdmVUbyhncmlkWCwgMjApO1xyXG4gICAgICAgIHRoaXMuY3R4LmxpbmVUbyhncmlkWCwgdGhpcy5jYW52YXMuaGVpZ2h0IC0gMjApO1xyXG4gICAgICAgIGdyaWRYICs9IGNlbGxTaXplO1xyXG4gICAgICB9XHJcbiAgICAgIHdoaWxlIChncmlkWSA8PSB0aGlzLmNhbnZhcy5oZWlnaHQgLSAyMCkge1xyXG4gICAgICAgIHRoaXMuY3R4Lm1vdmVUbygyMCwgZ3JpZFkpO1xyXG4gICAgICAgIHRoaXMuY3R4LmxpbmVUbyh0aGlzLmNhbnZhcy53aWR0aCAtIDEwLCBncmlkWSk7XHJcbiAgICAgICAgZ3JpZFkgKz0gY2VsbFNpemU7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5jdHguc3Ryb2tlKCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGFzeW5jIGRyYXdBeGlzKGhvdXJzKSB7XHJcbiAgICAgICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSBcImJsYWNrXCI7XHJcbiAgICAgICAgdGhpcy5jdHgubW92ZVRvKHRoaXMuYmxvY2tzKDEpLCB0aGlzLmJsb2NrcygxIC8gMikpO1xyXG4gICAgICAgIHRoaXMuY3R4LmxpbmVUbyh0aGlzLmJsb2NrcygxKSwgdGhpcy5ibG9ja3MoNykpO1xyXG4gICAgICAgIHRoaXMuY3R4Lm1vdmVUbyh0aGlzLmJsb2NrcygxKSwgdGhpcy5heGlzWHBvc2l0aW9uKTtcclxuICAgICAgICB0aGlzLmN0eC5saW5lVG8odGhpcy5ibG9ja3MoMTYpLCB0aGlzLmF4aXNYcG9zaXRpb24pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuY3R4Lm1vdmVUbyh0aGlzLmJsb2NrcygxKSwgdGhpcy5ibG9ja3MoNykpO1xyXG4gICAgICAgIGxldCB0ZXh0ID0gdGhpcy5heGlzWHBvc2l0aW9uID09PSAxNjAgPyAtMTUgOiAodGhpcy5heGlzWHBvc2l0aW9uID09PSA0MCA/IC0zMCA6IDApO1xyXG4gICAgICAgIGxldCB0ZXh0WSA9IHRoaXMuYmxvY2tzKDcpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDw9IDc7IGkrKykge1xyXG4gICAgICAgICAgdGhpcy5jdHguc3Ryb2tlVGV4dCh0ZXh0LCB0aGlzLmJsb2NrcygxIC8gMiksIHRleHRZKTtcclxuICAgICAgICAgIHRleHRZIC09IDQwO1xyXG4gICAgICAgICAgdGV4dCArPSA1O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmN0eC5tb3ZlVG8odGhpcy5ibG9ja3MoMiksIHRoaXMuYmxvY2tzKDcpKTtcclxuICAgICAgICBsZXQgdGV4dFggPSB0aGlzLmJsb2NrcygxLjkpO1xyXG4gICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IDE1OyBpKyspIHtcclxuICAgICAgICAgIHRoaXMuY3R4LnN0cm9rZVRleHQoaG91cnNbaV0sIHRleHRYLCB0aGlzLmJsb2Nrcyg3LjUpKTtcclxuICAgICAgICAgIHRleHRYICs9IDQwO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmN0eC5zdHJva2UoKTtcclxuICAgICAgXHJcbiAgICAgIFxyXG4gICAgICBcclxuICAgIFxyXG5cclxuICAgIH1cclxuICAgIHRpbWVzdGFtcFRvVGltZShzdGFtcCkge1xyXG4gICAgICBsZXQgZGF0ZSA9IG5ldyBEYXRlKHN0YW1wICogMTAwMCk7XHJcbiAgICAgIHJldHVybiBkYXRlLmdldEhvdXJzKCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIG1hcEFuZEZpbHRlcih0ZW1wQXJyYXkpIHtcclxuICAgICAgdGVtcEFycmF5ID0gdGVtcEFycmF5Lm1hcCgoZWwpID0+IHRoaXMudGltZXN0YW1wVG9UaW1lKGVsKSk7XHJcbiAgICAgIHRlbXBBcnJheSA9IHRlbXBBcnJheS5maWx0ZXIoKGVsKSA9PiBlbCAlIDIgPT0gMCk7XHJcbiAgICAgIHJldHVybiB0ZW1wQXJyYXk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHRlbXBlcmF0dXJlVG9DaGFydENvb3Jkcyh0ZW1wKXtcclxuICAgICAgbGV0IHRlbXBlcmF0dXJlID0gdGVtcC5tYXAoKGVsKSA9PiBlbCAvIDUpO1xyXG4gICAgICB0ZW1wZXJhdHVyZSA9IHRlbXBlcmF0dXJlLnNsaWNlKDAsMTUpO1xyXG4gICAgICByZXR1cm4gdGVtcGVyYXR1cmU7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGdldEhvdXJzQ29vcmRzKCkge1xyXG4gICAgICBsZXQgaG91ck9mVGVtcCA9IFsuLi5BcnJheSgxNykua2V5cygpXVxyXG4gICAgICBob3VyT2ZUZW1wID0gaG91ck9mVGVtcC5zbGljZSgyLCAxNyk7XHJcbiAgICBcclxuICAgICAgcmV0dXJuIGhvdXJPZlRlbXA7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGdldEF2ZXJhZ2VUZW1wKHRlbXBlcmF0dXJlKSB7XHJcbiAgICAgIHJldHVybiAodGVtcGVyYXR1cmUucmVkdWNlKChhLGIpID0+IChhK2IpKSAvIHRlbXBlcmF0dXJlLmxlbmd0aCkudG9GaXhlZCgxKTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3Q2hhcnQodGVtcGVyYXR1cmUpIHtcclxuICAgICAgY29uc3QgdGVtcEhvdXJzID0gdGhpcy5nZXRIb3Vyc0Nvb3JkcygpO1xyXG4gICAgICBsZXQgaSA9IDE7XHJcbiAgICAgIGNvbnN0IGNvbnRleHQgPSB0aGlzLmN0eFxyXG4gICAgICBjb25zdCBibG9jayA9IHRoaXMuYmxvY2tzLmJpbmQodGhpcyk7XHJcbiAgICAgIGNvbnN0IGF4aXNYcG9zaXRpb24gPSB0aGlzLmF4aXNYcG9zaXRpb247XHJcbiAgICAgIGZ1bmN0aW9uIGFuaW1hdGlvbigpIHtcclxuICAgICAgICBpZiAoaSA8PSB0ZW1wZXJhdHVyZS5sZW5ndGgpIHtcclxuICAgICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9IFwiI0ZGRTc0QVwiO1xyXG4gICAgICAgIGNvbnRleHQubGluZVdpZHRoID0gMztcclxuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGNvbnRleHQubW92ZVRvKGJsb2NrKHRlbXBIb3Vyc1tpLTFdKSwgYXhpc1hwb3NpdGlvbiAtIGJsb2NrKHRlbXBlcmF0dXJlW2ktMV0pKTtcclxuICAgICAgICBjb250ZXh0LmFyYyhibG9jayh0ZW1wSG91cnNbaS0xXSksIGF4aXNYcG9zaXRpb24gLSBibG9jayh0ZW1wZXJhdHVyZVtpLTFdKSwgMywgMCwgTWF0aC5QSSAqIDIsIHRydWUpO1xyXG4gICAgICAgIGNvbnRleHQubGluZVRvKGJsb2NrKHRlbXBIb3Vyc1tpXSksIGF4aXNYcG9zaXRpb24gLSBibG9jayh0ZW1wZXJhdHVyZVtpXSkpO1xyXG4gICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XHJcbiAgICAgICAgaSsrO1xyXG4gICAgICB9XHJcbiAgICAgIGFuaW1hdGlvbigpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBhc3luYyB3YWl0Rm9yR3JpZChtcykge1xyXG4gICAgICByZXR1cm4gbmV3IFByb21pc2UociA9PiBzZXRUaW1lb3V0KHIsIG1zKSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGdldE1vdXNlUG9zaXRpb24oZXZ0LCBjYW52YXMpIHtcclxuICAgICAgbGV0IHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgeDogZXZ0LmNsaWVudFggLSByZWN0LmxlZnQsXHJcbiAgICAgICAgeTogZXZ0LmNsaWVudFkgLSByZWN0LnRvcFxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBmaWx0ZXJUZW1wZXJhdHVyZSh0ZW1wZXJhdHVyZSkge1xyXG4gICAgICBjb25zdCB0ZW1wID0gdGVtcGVyYXR1cmVcclxuICAgICAgICAubWFwKChvYmopID0+IG9iai50ZW1wKVxyXG4gICAgICAgIC5maWx0ZXIoKGVsLCBpbmRleCkgPT4gaW5kZXggJSAyID09IDApO1xyXG4gICAgXHJcbiAgICAgIHJldHVybiB0ZW1wO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICB0ZW1wZXJhdHVyZVRvUGl4ZWwodGVtcCl7XHJcbiAgICAgIGNvbnN0IHBpeGVsVGVtcCA9IHRlbXAubWFwKGVsID0+IHRoaXMuYXhpc1hwb3NpdGlvbiAtIHRoaXMuYmxvY2tzKGVsKSk7XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4gcGl4ZWxUZW1wO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBob3Vyc1RvUGl4ZWwoaG91cnMpIHtcclxuICAgICAgY29uc3QgaG91cnJzID0gaG91cnMubWFwKGVsID0+IHRoaXMuYmxvY2tzKGVsKSk7XHJcbiAgICAgIHJldHVybiBob3VycnM7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNyZWF0ZVRlbXBPYmooaG91ciwgdGVtcCwgaG91ck9mVGVtcCwgdGVtcEluSG91cil7XHJcbiAgICAgIGNvbnN0IHRlbXBQb2ludENvb3JkcyA9IFtdO1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRlbXAubGVuZ3RoOyBpKyspe1xyXG4gICAgICAgIHRlbXBQb2ludENvb3Jkcy5wdXNoKHtcclxuICAgICAgICAgIHg6IGhvdXJbaV0sXHJcbiAgICAgICAgICB5OiB0ZW1wW2ldLFxyXG4gICAgICAgICAgeG1pbjogTWF0aC5hYnMoaG91cltpXSkgLSAzLFxyXG4gICAgICAgICAgeG1heDogTWF0aC5hYnMoaG91cltpXSkgKyAzLFxyXG4gICAgICAgICAgeW1pbjogTWF0aC5hYnModGVtcFtpXSkgLSAzLFxyXG4gICAgICAgICAgeW1heDogTWF0aC5hYnModGVtcFtpXSkgKyAzLFxyXG4gICAgICAgICAgaG91clRlbXA6IHtcclxuICAgICAgICAgICAgaG91cjogaG91ck9mVGVtcFtpXSxcclxuICAgICAgICAgICAgdGVtcDogdGVtcEluSG91cltpXVxyXG4gICAgICAgICAgfSxcclxuICAgIFxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHRlbXBQb2ludENvb3JkcztcclxuICAgIH1cclxuICAgIFxyXG4gICAgZHJhd1BvaW50KGN0eCwgY29vcmRzID0ge30sIHJhZGl1cywgY29sb3IgPSAnd2hpdGUnKSB7XHJcbiAgICAgIGNvbnN0IG1vdXNlQ29vcmRpbmF0ZSA9IGNvb3JkcztcclxuICAgICAgY3R4LnN0cm9rZVN0eWxlID0gY29sb3I7XHJcbiAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgY3R4Lm1vdmVUbyhtb3VzZUNvb3JkaW5hdGUueCwgbW91c2VDb29yZGluYXRlLnkpO1xyXG4gICAgICBjdHguYXJjKG1vdXNlQ29vcmRpbmF0ZS54LCBtb3VzZUNvb3JkaW5hdGUueSwgcmFkaXVzLCAwLCBNYXRoLlBJICogMiwgdHJ1ZSk7XHJcbiAgICAgIGN0eC5maWxsU3R5bGUgPSBjb2xvcjtcclxuICAgICAgY3R4LmZpbGwoKTtcclxuICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBhZGRFdmVudChwb2ludFRlbXAsIG1vdXNlQ29vcmRpbmF0ZSwgZHJhd1BvaW50LCBjYW52YXMsIHN0YXRlLCB0b29sdGlwLCBjdHgsIGNvbmRpdGlvbikge1xyXG4gICAgICByZXR1cm4gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgY29uc3QgbW91c2VDb29yZHMgPSBtb3VzZUNvb3JkaW5hdGUoZSwgY2FudmFzKTtcclxuICAgICAgICAgIGxldCBib29vbHMgPSBwb2ludFRlbXAuZmlsdGVyKGVsID0+IHtcclxuICAgICAgICAgIGNvbnN0IGEgPSBlbC54bWluIDw9IG1vdXNlQ29vcmRzLng7XHJcbiAgICAgICAgICBjb25zdCBiID0gbW91c2VDb29yZHMueCA8PSBlbC54bWF4O1xyXG4gICAgICAgICAgY29uc3QgYyA9IGVsLnltaW4gPD0gbW91c2VDb29yZHMueTtcclxuICAgICAgICAgIGNvbnN0IGQgPSBtb3VzZUNvb3Jkcy55IDw9IGVsLnltYXg7XHJcbiAgICAgICAgICByZXR1cm4gKGEgJiYgYiAmJiBjICYmIGQpXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgaWYoYm9vb2xzLmxlbmd0aCkge1xyXG4gICAgICAgICAgZHJhd1BvaW50KGN0eCwgYm9vb2xzWzBdLCAxKTtcclxuICAgICAgICAgIHN0YXRlID0gey4uLmJvb29sc1swXX07XHJcbiAgICAgICAgICBjb25kaXRpb24gPSB0cnVlO1xyXG4gICAgICAgICAgaWYgKGNhbnZhcy53aWR0aCAtIChzdGF0ZS54ICsgNSkgPD0gODApe1xyXG4gICAgICAgICAgICB0b29sdGlwLnN0eWxlLmxlZnQgPSBgJHtzdGF0ZS54IC0gODV9cHhgXHJcbiAgICAgICAgICAgIHRvb2x0aXAuc3R5bGUudG9wID0gYCR7c3RhdGUueSAtIDM1fXB4YDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdG9vbHRpcC5zdHlsZS5sZWZ0ID0gYCR7c3RhdGUueCArIDV9cHhgO1xyXG4gICAgICAgICAgICB0b29sdGlwLnN0eWxlLnRvcCA9IGAke3N0YXRlLnkgLSAzNX1weGA7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0b29sdGlwLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XHJcbiAgICAgICAgICB0b29sdGlwLmlubmVySFRNTCA9IGBUaW1lOiAke3N0YXRlLmhvdXJUZW1wLmhvdXJ9OjAwLCBUZW1wOiAke3N0YXRlLmhvdXJUZW1wLnRlbXB9wrBDYDtcclxuICAgICAgICB9IFxyXG4gICAgICAgIGVsc2UgaWYoIWJvb29scy5sZW5ndGgpIHtcclxuICAgICAgICAgIGRyYXdQb2ludChjdHgsIHN0YXRlLCAzLCBcIiNGRkU3NEFcIik7XHJcbiAgICAgICAgICBjb25kaXRpb24gPSBmYWxzZTtcclxuICAgICAgICAgIHN0YXRlID0ge307XHJcbiAgICAgICAgICB0b29sdGlwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICAgICAgICBib29vbHMgPSBbXTtcclxuICAgICAgICB9IFxyXG4gICAgICBcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgYWRkUG9wVXAodGVtcFBvaW50KSB7XHJcbiAgICAgIGNvbnN0IGFkZEV2ZW50MSA9IHRoaXMuYWRkRXZlbnQodGVtcFBvaW50LCB0aGlzLmdldE1vdXNlUG9zaXRpb24sIHRoaXMuZHJhd1BvaW50LCB0aGlzLmNhbnZhcywgdGhpcy5zdGF0ZSwgdGhpcy50b29sdGlwLCB0aGlzLmN0eCwgdGhpcy5jb25kaXRpb24pO1xyXG4gICAgICB0aGlzLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBhZGRFdmVudDEpO1xyXG4gICAgICB0aGlzLmJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZSA9PiB7XHJcbiAgICAgICAgdGhpcy5jYW52YXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgYWRkRXZlbnQxKTtcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmVQb3BVcCh0ZW1wUG9pbnQpIHtcclxuICAgICAgY29uc3QgYWRkRXZlbnQxID0gdGhpcy5hZGRFdmVudCh0ZW1wUG9pbnQsIHRoaXMuZ2V0TW91c2VQb3NpdGlvbiwgdGhpcy5kcmF3UG9pbnQsIHRoaXMuY2FudmFzLCB0aGlzLnN0YXRlLCB0aGlzLnRvb2x0aXAsIHRoaXMuY3R4LCB0aGlzLmNvbmRpdGlvbik7XHJcbiAgICAgIHRoaXMuY2FudmFzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIGFkZEV2ZW50MSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgY2hhcnQoKSB7XHJcbiAgICAgIGNvbnN0IGhvdXJPZldlYXRoZXIgPSB0aGlzLm1hcEFuZEZpbHRlcih0aGlzLndlYXRoZXJCeUhvdXIubWFwKChvYmopID0+IG9iai5kdCkpO1xyXG4gICAgICBsZXQgdGVtcGVyYXR1cmUgPSB0aGlzLmZpbHRlclRlbXBlcmF0dXJlKHRoaXMud2VhdGhlckJ5SG91cik7XHJcbiAgICAgIGNvbnN0IGF2ZXJhZ2VUZW1wID0gdGhpcy5nZXRBdmVyYWdlVGVtcCh0ZW1wZXJhdHVyZSk7XHJcbiAgICAgIHRoaXMuc2V0QXhpc1hwb3NpdGlvbihhdmVyYWdlVGVtcCk7XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB0ZW1wZXJhdHVyZUNvb3JkcyA9IHRoaXMudGVtcGVyYXR1cmVUb0NoYXJ0Q29vcmRzKHRlbXBlcmF0dXJlKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHRlbXBQaXhlbHMgPSB0aGlzLnRlbXBlcmF0dXJlVG9QaXhlbCh0ZW1wZXJhdHVyZUNvb3Jkcyk7XHJcbiAgICAgIGNvbnN0IGhvdXJzUGl4ZWxzID0gdGhpcy5ob3Vyc1RvUGl4ZWwodGhpcy5nZXRIb3Vyc0Nvb3JkcygpKTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHRlbXBQb2ludHMgPSB0aGlzLmNyZWF0ZVRlbXBPYmooaG91cnNQaXhlbHMsIHRlbXBQaXhlbHMsIGhvdXJPZldlYXRoZXIsIHRlbXBlcmF0dXJlKTtcclxuICAgIFxyXG4gICAgICB0aGlzLmNhbnZhc0RpbWVuc2lvbnMoKTtcclxuICAgICAgdGhpcy5kcmF3R3JpZCgpO1xyXG4gICAgICB0aGlzLmRyYXdBeGlzKGhvdXJPZldlYXRoZXIsIGF2ZXJhZ2VUZW1wKTtcclxuICAgICAgYXdhaXQgdGhpcy53YWl0Rm9yR3JpZCg1MDApO1xyXG4gICAgICB0aGlzLmRyYXdDaGFydCh0ZW1wZXJhdHVyZUNvb3JkcylcclxuICAgICAgdGhpcy5hZGRQb3BVcCh0ZW1wUG9pbnRzKTtcclxuICAgICAgdGhpcy5yZW1vdmVQb3BVcCh0ZW1wUG9pbnRzKTtcclxuICAgIH1cclxuICBcclxuICB9IiwiZXhwb3J0IGNsYXNzIFdlZWtGb3JlY2FzdCB7XHJcbiAgY29uc3RydWN0b3Iod2Vla0ZvcmVjYXN0RGF0YSkge1xyXG4gICAgdGhpcy53ZWVrRGF0YSA9IHdlZWtGb3JlY2FzdERhdGE7XHJcbiAgICB0aGlzLndlYXRoZXJGb3JlY2FzdENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXHJcbiAgICAgIFwid2VhdGhlckZvcmVjYXN0LS1qc1wiXHJcbiAgICApO1xyXG4gICAgdGhpcy53ZWF0aGVyRm9yZWNhc3RDb250YWluZXIgPSB0aGlzLndlYXRoZXJGb3JlY2FzdENvbnRhaW5lclswXTtcclxuICB9XHJcblxyXG4gIHNsaWNlV2Vla0RhdGFBcnJheSgpIHtcclxuICAgIHRoaXMud2Vla0RhdGEgPSB0aGlzLndlZWtEYXRhLnNsaWNlKDEsIDgpO1xyXG4gIH1cclxuXHJcbiAgZ2V0VGltZXN0YW1wVG9UaW1lKHRpbWVzdGFtcCkge1xyXG4gICAgY29uc3QgdGltZSA9IG5ldyBEYXRlKHRpbWVzdGFtcCAqIDEwMDApO1xyXG4gICAgcmV0dXJuIHRpbWUuZ2V0RGF5KCk7XHJcbiAgfVxyXG5cclxuICBnZXROYW1lT2ZXZWVrKG51bWJlcikge1xyXG4gICAgc3dpdGNoIChudW1iZXIpIHtcclxuICAgICAgY2FzZSAwOlxyXG4gICAgICAgIHJldHVybiBcIlN1blwiO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIDE6XHJcbiAgICAgICAgcmV0dXJuIFwiTW9uXCI7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgMjpcclxuICAgICAgICByZXR1cm4gXCJUdWVcIjtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAzOlxyXG4gICAgICAgIHJldHVybiBcIldlZFwiO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIDQ6XHJcbiAgICAgICAgcmV0dXJuIFwiVGh1clwiO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIDU6XHJcbiAgICAgICAgcmV0dXJuIFwiRnJpXCI7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgNjpcclxuICAgICAgICByZXR1cm4gXCJTYXRcIjtcclxuICAgICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcbiAgZ2V0V2VhdGhlclBhcmFtZXRlcnMoKSB7XHJcbiAgICB0aGlzLndlZWtEYXRhID0gdGhpcy53ZWVrRGF0YS5tYXAoKGVsKSA9PiB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgZGF5OiB0aGlzLmdldE5hbWVPZldlZWsodGhpcy5nZXRUaW1lc3RhbXBUb1RpbWUoZWwuZHQpKSxcclxuICAgICAgICB0ZW1wOiBlbC50ZW1wLmRheSxcclxuICAgICAgICB3ZWF0aGVyOiBlbC53ZWF0aGVyWzBdLm1haW4sXHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHB1dFdlYXRoZXJJbnRvU2VjdGlvbigpIHtcclxuICAgIHRoaXMud2VhdGhlckZvcmVjYXN0Q29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICB0aGlzLndlZWtEYXRhLmZvckVhY2goKGVsKSA9PiB7XHJcbiAgICAgIHRoaXMud2VhdGhlckZvcmVjYXN0Q29udGFpbmVyLmlubmVySFRNTCArPSBgPGRpdiBjbGFzcz1cIndlYXRoZXJGb3JlY2FzdF9fZGF5IHdlYXRoZXJGb3JlY2FzdF9fZGF5LS1qc1wiPjxpbWcgY2xhc3M9XCJ3ZWF0aGVyRm9yZWNhc3RfX2RheUVsZW1lbnRcIiBzcmM9J2Fzc2V0cy9pbWcvd2VhdGhlckljb25zLyR7dGhpcy53ZWF0aGVySWNvbihcclxuICAgICAgICBlbC53ZWF0aGVyXHJcbiAgICAgICl9JyBhbHQ9Jyc+PC9pbWc+PGRpdiBjbGFzcz1cIndlYXRoZXJGb3JlY2FzdF9fZGF5RWxlbWVudFwiPjxwPiR7XHJcbiAgICAgICAgZWwuZGF5XHJcbiAgICAgIH08YnI+JHtlbC50ZW1wfTwvcD48L2Rpdj48L2Rpdj5gO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhZGRXZWF0aGVyRm9yZWNhc3QoKSB7XHJcbiAgICB0aGlzLnNsaWNlV2Vla0RhdGFBcnJheSgpO1xyXG4gICAgdGhpcy5nZXRXZWF0aGVyUGFyYW1ldGVycygpO1xyXG4gICAgdGhpcy5wdXRXZWF0aGVySW50b1NlY3Rpb24oKTtcclxuICB9XHJcblxyXG4gIHdlYXRoZXJJY29uKHdlYXRoZXIpIHtcclxuICAgIGxldCBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICBjdXJyZW50RGF0ZSA9IGN1cnJlbnREYXRlLmdldEhvdXJzKCk7XHJcbiAgICBzd2l0Y2ggKHdlYXRoZXIpIHtcclxuICAgICAgY2FzZSBcInRodW5kZXJzdG9ybVwiOlxyXG4gICAgICAgIHJldHVybiBcIlN0b3JtLnN2Z1wiO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiRHJpenpsZVwiOlxyXG4gICAgICAgIHJldHVybiBcIkRyaXp6bGUuc3ZnXCI7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCJSYWluXCI6XHJcbiAgICAgICAgcmV0dXJuIFwiUmFpbi5zdmdcIjtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBcIlNub3dcIjpcclxuICAgICAgICByZXR1cm4gXCJTbm93Zmxha2Uuc3ZnXCI7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgXCJBdG1vc3BoZXJlXCI6XHJcbiAgICAgICAgcmV0dXJuIFwiRm9nLnN2Z1wiO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIFwiQ2xlYXJcIjpcclxuICAgICAgICBpZiAoY3VycmVudERhdGUgPD0gMjApIHtcclxuICAgICAgICAgIHJldHVybiBcIlN1bi5zdmdcIjtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gXCJNb29uLnN2Z1wiO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICBjYXNlIFwiQ2xvdWRzXCI6XHJcbiAgICAgICAgcmV0dXJuIFwiQ2xvdWRzLnN2Z1wiO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJcInVzZSBzdHJpY3RcIjtcclxuaW1wb3J0IHsgV2VhdGhlckluZm9ybWF0aW9uIH0gZnJvbSBcIi4vd2VhdGhlckluZm9ybWF0aW9uQ2xhc3MuanNcIjtcclxuaW1wb3J0IHsgQ2hhcnQgfSBmcm9tIFwiLi9jaGFydENsYXNzLmpzXCI7XHJcbmltcG9ydCB7IFdlZWtGb3JlY2FzdCB9IGZyb20gXCIuL3dlZWtGb3JlY2FzdENsYXNzLmpzXCI7XHJcbi8vIHNlcnZpY2Ugd29ya2VyIHJlZ2lzdHJhdGlvbiAtIHJlbW92ZSBpZiB5b3UncmUgbm90IGdvaW5nIHRvIHVzZSBpdFxyXG5cclxuaWYgKFwic2VydmljZVdvcmtlclwiIGluIG5hdmlnYXRvcikge1xyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3RlcihcInNlcnZpY2V3b3JrZXIuanNcIikudGhlbihcclxuICAgICAgZnVuY3Rpb24gKHJlZ2lzdHJhdGlvbikge1xyXG4gICAgICAgIC8vIFJlZ2lzdHJhdGlvbiB3YXMgc3VjY2Vzc2Z1bFxyXG4gICAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgICAgXCJTZXJ2aWNlV29ya2VyIHJlZ2lzdHJhdGlvbiBzdWNjZXNzZnVsIHdpdGggc2NvcGU6IFwiLFxyXG4gICAgICAgICAgcmVnaXN0cmF0aW9uLnNjb3BlXHJcbiAgICAgICAgKTtcclxuICAgICAgfSxcclxuICAgICAgZnVuY3Rpb24gKGVycikge1xyXG4gICAgICAgIC8vIHJlZ2lzdHJhdGlvbiBmYWlsZWQgOihcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlNlcnZpY2VXb3JrZXIgcmVnaXN0cmF0aW9uIGZhaWxlZDogXCIsIGVycik7XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8vIHBsYWNlIHlvdXIgY29kZSBiZWxvd1xyXG5jb25zdCBhcGlLZXkgPSBcIjUzYzVlOTc2NzVjOGQzZDhkYTA3ZTU2YWVjNWEzYTIyXCI7XHJcbmNvbnN0IGF4aXNYcG9zaXRpb24gPSAyODA7IC8vIFggYXhpcyBpcyBvbiAyODBweCBDYW52YXMgSGVpZ2h0O1xyXG5sZXQgY2xhc3NTdGF0dXMgPSBmYWxzZTtcclxuXHJcbihmdW5jdGlvbiAoKSB7XHJcbiAgbGV0IGxhc3RUaW1lID0gMDtcclxuICBsZXQgdmVuZG9ycyA9IFtcIm1zXCIsIFwibW96XCIsIFwid2Via2l0XCIsIFwib1wiXTtcclxuICBmb3IgKGxldCB4ID0gMDsgeCA8IHZlbmRvcnMubGVuZ3RoICYmICF3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lOyArK3gpIHtcclxuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSB3aW5kb3dbdmVuZG9yc1t4XSArIFwiUmVxdWVzdEFuaW1hdGlvbkZyYW1lXCJdO1xyXG4gICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lID1cclxuICAgICAgd2luZG93W3ZlbmRvcnNbeF0gKyBcIkNhbmNlbEFuaW1hdGlvbkZyYW1lXCJdIHx8XHJcbiAgICAgIHdpbmRvd1t2ZW5kb3JzW3hdICsgXCJDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcIl07XHJcbiAgfVxyXG5cclxuICBpZiAoIXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpXHJcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBlbGVtZW50KSB7XHJcbiAgICAgIGxldCBjdXJyVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgICBsZXQgdGltZVRvQ2FsbCA9IE1hdGgubWF4KDAsIDE2IC0gKGN1cnJUaW1lIC0gbGFzdFRpbWUpKTtcclxuICAgICAgbGV0IGlkID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNhbGxiYWNrKGN1cnJUaW1lICsgdGltZVRvQ2FsbCk7XHJcbiAgICAgIH0sIHRpbWVUb0NhbGwpO1xyXG4gICAgICBsYXN0VGltZSA9IGN1cnJUaW1lICsgdGltZVRvQ2FsbDtcclxuICAgICAgcmV0dXJuIGlkO1xyXG4gICAgfTtcclxuXHJcbiAgaWYgKCF3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUpXHJcbiAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbiAoaWQpIHtcclxuICAgICAgY2xlYXJUaW1lb3V0KGlkKTtcclxuICAgIH07XHJcbn0pKCk7XHJcblxyXG5mdW5jdGlvbiBlcnJvcihlcnIpIHtcclxuICBjb25zb2xlLndhcm4oYEVSUk9SKCR7ZXJyLmNvZGV9KTogJHtlcnIubWVzc2FnZX1gKTtcclxufVxyXG5cclxuY29uc3Qgb3B0aW9ucyA9IHtcclxuICBlbmFibGVIaWdoQWNjdXJhY3k6IHRydWUsXHJcbiAgdGltZW91dDogNTAwMCxcclxuICBtYXhpbXVtQWdlOiAwLFxyXG59O1xyXG5cclxuZnVuY3Rpb24gbG9jYXRpb24oKSB7XHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+XHJcbiAgICBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24uZ2V0Q3VycmVudFBvc2l0aW9uKHJlc29sdmUsIGVycm9yKVxyXG4gICk7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGdldExvY2F0aW9uKGxvY2F0aW9uKSB7XHJcbiAgbGV0IHBvc2l0aW9uID0gbG9jYXRpb247XHJcbiAgbGV0IHdlYXRoZXJCeVBvc2l0aW9uO1xyXG4gIGxldCB3ZWF0aGVyQnlIb3VyO1xyXG4gIGxldCBuZXh0U2V2ZW5EYXlzO1xyXG4gIGlmICh0eXBlb2YgcG9zaXRpb24gPT09IFwib2JqZWN0XCIpIHtcclxuICAgIHBvc2l0aW9uID0gYXdhaXQgcG9zaXRpb24uY29vcmRzO1xyXG4gICAgY29uc3QgeyBsYXRpdHVkZSwgbG9uZ2l0dWRlIH0gPSBwb3NpdGlvbjtcclxuXHJcbiAgICB3ZWF0aGVyQnlQb3NpdGlvbiA9IGF3YWl0IGZldGNoKFxyXG4gICAgICBgaHR0cHM6Ly9hcGkub3BlbndlYXRoZXJtYXAub3JnL2RhdGEvMi41L3dlYXRoZXI/bGF0PSR7bGF0aXR1ZGV9Jmxvbj0ke2xvbmdpdHVkZX0mYXBwaWQ9JHthcGlLZXl9JnVuaXRzPW1ldHJpYyZsYW5nPXBsYFxyXG4gICAgKTtcclxuICAgIHdlYXRoZXJCeVBvc2l0aW9uID0gYXdhaXQgd2VhdGhlckJ5UG9zaXRpb24uanNvbigpO1xyXG5cclxuICAgIHdlYXRoZXJCeUhvdXIgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9hcGkub3BlbndlYXRoZXJtYXAub3JnL2RhdGEvMi41L29uZWNhbGw/bGF0PSR7bGF0aXR1ZGV9Jmxvbj0ke2xvbmdpdHVkZX0mXHJcbiAgICBleGNsdWRlPWhvdXJseSZhcHBpZD0ke2FwaUtleX0mdW5pdHM9bWV0cmljYCk7XHJcbiAgICB3ZWF0aGVyQnlIb3VyID0gYXdhaXQgd2VhdGhlckJ5SG91ci5qc29uKCk7XHJcbiAgICB3ZWF0aGVyQnlIb3VyID0gd2VhdGhlckJ5SG91ci5ob3VybHk7XHJcblxyXG4gICAgbmV4dFNldmVuRGF5cyA9IGF3YWl0IGZldGNoKGBodHRwczovL2FwaS5vcGVud2VhdGhlcm1hcC5vcmcvZGF0YS8yLjUvb25lY2FsbD9sYXQ9JHtsYXRpdHVkZX0mbG9uPSR7bG9uZ2l0dWRlfSZcclxuICAgIGV4Y2x1ZGU9ZGFpbHkmYXBwaWQ9JHthcGlLZXl9JnVuaXRzPW1ldHJpY2ApO1xyXG4gICAgbmV4dFNldmVuRGF5cyA9IGF3YWl0IG5leHRTZXZlbkRheXMuanNvbigpO1xyXG4gICAgbmV4dFNldmVuRGF5cyA9IG5leHRTZXZlbkRheXMuZGFpbHk7XHJcbiAgfSBlbHNlIHtcclxuICAgIHdlYXRoZXJCeVBvc2l0aW9uID0gYXdhaXQgZmV0Y2goXHJcbiAgICAgIGBodHRwczovL2FwaS5vcGVud2VhdGhlcm1hcC5vcmcvZGF0YS8yLjUvd2VhdGhlcj9xPSR7cG9zaXRpb259JmFwcGlkPSR7YXBpS2V5fSZ1bml0cz1tZXRyaWNgXHJcbiAgICApO1xyXG4gICAgd2VhdGhlckJ5UG9zaXRpb24gPSBhd2FpdCB3ZWF0aGVyQnlQb3NpdGlvbi5qc29uKCk7XHJcblxyXG4gICAgY29uc3QgY29vcmRzID0gd2VhdGhlckJ5UG9zaXRpb24uY29vcmQ7XHJcbiAgICBcclxuICAgIHdlYXRoZXJCeUhvdXIgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9hcGkub3BlbndlYXRoZXJtYXAub3JnL2RhdGEvMi41L29uZWNhbGw/bGF0PSR7Y29vcmRzLmxhdH0mbG9uPSR7Y29vcmRzLmxvbn0mXHJcbiAgICBleGNsdWRlPWhvdXJseSZhcHBpZD0ke2FwaUtleX0mdW5pdHM9bWV0cmljYCk7XHJcbiAgICB3ZWF0aGVyQnlIb3VyID0gYXdhaXQgd2VhdGhlckJ5SG91ci5qc29uKCk7XHJcblxyXG4gICAgd2VhdGhlckJ5SG91ciA9IHdlYXRoZXJCeUhvdXIuaG91cmx5O1xyXG5cclxuICAgIG5leHRTZXZlbkRheXMgPSBhd2FpdCBmZXRjaChgaHR0cHM6Ly9hcGkub3BlbndlYXRoZXJtYXAub3JnL2RhdGEvMi41L29uZWNhbGw/bGF0PSR7Y29vcmRzLmxhdH0mbG9uPSR7Y29vcmRzLmxvbn0mXHJcbiAgICBleGNsdWRlPWRhaWx5JmFwcGlkPSR7YXBpS2V5fSZ1bml0cz1tZXRyaWNgKTtcclxuICAgIG5leHRTZXZlbkRheXMgPSBhd2FpdCBuZXh0U2V2ZW5EYXlzLmpzb24oKTtcclxuICAgIG5leHRTZXZlbkRheXMgPSBuZXh0U2V2ZW5EYXlzLmRhaWx5O1xyXG4gIH1cclxuXHJcbiAgY29uc3Qgd2VhdGhlckRhdGEgPSBuZXcgV2VhdGhlckluZm9ybWF0aW9uKHdlYXRoZXJCeVBvc2l0aW9uKTtcclxuICB3ZWF0aGVyRGF0YS5zZXRXZWF0aGVySW5mb3JtYXRpb24oKTtcclxuICBjb25zdCBjaGFydCA9IG5ldyBDaGFydCh3ZWF0aGVyQnlIb3VyLCBheGlzWHBvc2l0aW9uKTtcclxuICBjaGFydC5jaGFydCgpO1xyXG4gIGNvbnN0IGZvcmVjYXN0Rm9yV2VlayA9IG5ldyBXZWVrRm9yZWNhc3QobmV4dFNldmVuRGF5cyk7XHJcbiAgZm9yZWNhc3RGb3JXZWVrLmFkZFdlYXRoZXJGb3JlY2FzdCgpO1xyXG4gIFxyXG59XHJcblxyXG5jb25zdCBsb2NhbGl6YXRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFxyXG4gIFwiaGVhZGVyX19nZW9sb2NhbGl6YXRpb24tLWJ1dHRvbkpTXCJcclxuKVswXTtcclxuY29uc3Qgc2VhcmNoQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcclxuICBcImhlYWRlcl9fc2VhcmNoLS1idXR0b25KU1wiXHJcbilbMF07XHJcbmNvbnN0IGlucHV0RmllbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFxyXG4gIFwiaGVhZGVyX19zZWFyY2gtLWlucHV0SlNcIlxyXG4pWzBdO1xyXG5cclxubG9jYWxpemF0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PiB7XHJcbiAgY29uc3QgbG9jYXRpb25zID0gYXdhaXQgbG9jYXRpb24oKTtcclxuICBhd2FpdCBnZXRMb2NhdGlvbihsb2NhdGlvbnMpO1xyXG4gIGlmICghY2xhc3NTdGF0dXMpIHtcclxuICAgIHJlcGxhY2VDbGFzc2VzKCk7XHJcbiAgICBjbGFzc1N0YXR1cyA9IHRydWU7XHJcbiAgfVxyXG59KTtcclxuXHJcbnNlYXJjaEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKCkgPT4ge1xyXG4gIGlmICghaW5wdXRGaWVsZC52YWx1ZSkge1xyXG4gICAgYWxlcnQoXCJwbGVhc2UgdHlwZSB5b3VyIGNpdHkgbmFtZVwiKTtcclxuICB9IGVsc2UgaWYgKGlucHV0RmllbGQudmFsdWUpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IGdldExvY2F0aW9uKGlucHV0RmllbGQudmFsdWUpO1xyXG5cclxuICAgICAgaWYgKCFjbGFzc1N0YXR1cykge1xyXG4gICAgICAgIHJlcGxhY2VDbGFzc2VzKCk7XHJcbiAgICAgICAgY2xhc3NTdGF0dXMgPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBhbGVydChgQ291bGQgbm90IGZpbmQgdGhlIGNpdHkgJyR7aW5wdXRGaWVsZC52YWx1ZX1gKTtcclxuICAgIH1cclxuICB9XHJcbn0pO1xyXG5cclxuaW5wdXRGaWVsZC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgKGV2ZW50KSA9PiB7XHJcbiAgaWYgKGV2ZW50LmtleUNvZGUgPT09IDEzKSB7XHJcbiAgICBzZWFyY2hCdXR0b24uY2xpY2soKTtcclxuICB9XHJcbn0pXHJcblxyXG5mdW5jdGlvbiByZXBsYWNlQ2xhc3NlcygpIHtcclxuICBjb25zdCBoZWFkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiaGVhZGVyLS1maXJzdExvYWRcIilbMF07XHJcbiAgY29uc3QgbWFpbiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJtYWluX19jb250YWluZXItLWZpcnN0TG9hZFwiKVswXTtcclxuICBjb25zdCBmb290ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiZm9vdGVyLS1maXJzdExvYWRcIilbMF07XHJcblxyXG4gIGhlYWRlci5jbGFzc0xpc3QucmVwbGFjZShcImhlYWRlci0tZmlyc3RMb2FkXCIsIFwiaGVhZGVyXCIpO1xyXG4gIG1haW4uY2xhc3NMaXN0LnJlcGxhY2UoXCJtYWluX19jb250YWluZXItLWZpcnN0TG9hZFwiLCBcIm1haW5fX2NvbnRhaW5lclwiKTtcclxuICBmb290ZXIuY2xhc3NMaXN0LnJlcGxhY2UoXCJmb290ZXItLWZpcnN0TG9hZFwiLCBcImZvb3Rlcl9faW1hZ2VcIik7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///0\n')}]);